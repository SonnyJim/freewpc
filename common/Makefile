
ifndef CONFIG_PLAYABLE
CONFIG_PLAYABLE := y
endif

# The 'common basic objects' are those that do not depend on autogenerated
# .h files, but are not important enough to do into the system region.
COMMON_BASIC_OBJS +=	common/abort.o
COMMON_BASIC_OBJS +=	$(if $(CONFIG_DMD),common/amode.o)
COMMON_BASIC_OBJS +=	$(if $(CONFIG_PLAYABLE), common/ballsave.o)
COMMON_BASIC_OBJS +=	common/coin.o
COMMON_BASIC_OBJS +=	common/db.o
COMMON_BASIC_OBJS +=	common/event-audit.o
COMMON_BASIC_OBJS +=	common/flipcode.o
COMMON_BASIC_OBJS +=	common/initials.o
COMMON_BASIC_OBJS +=	common/leffs.o
COMMON_BASIC_OBJS +=	common/locale.o
COMMON_BASIC_OBJS +=	$(if $(CONFIG_PLAYABLE), common/match.o)
COMMON_BASIC_OBJS +=	common/music.o
COMMON_BASIC_OBJS +=	common/optocheck.o
COMMON_BASIC_OBJS +=	$(if $(CONFIG_PIC), common/pic.o)
COMMON_BASIC_OBJS +=	common/plunger.o
COMMON_BASIC_OBJS +=	common/printer.o
COMMON_BASIC_OBJS +=	common/reset.o
COMMON_BASIC_OBJS +=	$(if $(CONFIG_WPC), common/rtc.o)
COMMON_BASIC_OBJS +=	$(if $(CONFIG_WPC), common/service.o)
COMMON_BASIC_OBJS +=	$(if $(CONFIG_PLAYABLE), common/score_deff.o)
COMMON_BASIC_OBJS +=	common/shootalert.o
COMMON_BASIC_OBJS +=	common/tilt.o
COMMON_BASIC_OBJS +=	$(if $(CONFIG_WHITESTAR),,common/tournament.o)
COMMON_BASIC_OBJS +=	common/trough.o

# The other common objects are dependent on autogenerated .h files as well.
COMMON_SW_OBJS += $(if $(CONFIG_WPC), common/buyin.o)
COMMON_SW_OBJS += $(if $(CONFIG_PLAYABLE), common/device.o)
COMMON_SW_OBJS += common/diag.o
COMMON_SW_OBJS += common/eb.o
COMMON_SW_OBJS += $(if $(CONFIG_WPC), common/highscore.o)
COMMON_SW_OBJS += common/inspector.o
COMMON_SW_OBJS += common/knocker.o
COMMON_SW_OBJS += $(if $(CONFIG_PLAYABLE), common/replay.o)
COMMON_SW_OBJS += common/search.o
COMMON_SW_OBJS += $(if $(CONFIG_WPC), common/status.o)
COMMON_SW_OBJS += $(if $(CONFIG_PLAYABLE), common/special.o)

# TODO : Eventually we should include generic, slow device drivers here.
COMMON_SW_OBJS += $(if $(CONFIG_DRIVER_DROP), common/drop.c)
COMMON_SW_OBJS += $(if $(CONFIG_DRIVER_SHAKER), common/shaker.c)
COMMON_SW_OBJS += $(if $(CONFIG_DRIVER_GATED), common/gated.c)
COMMON_SW_OBJS += $(if $(CONFIG_DRIVER_SWITCHBANK), common/switchbank.c)
COMMON_SW_OBJS += $(if $(CONFIG_DRIVER_BIDI), common/bidi.c)
COMMON_SW_OBJS += $(if $(CONFIG_DRIVER_CAPTIVE), common/captive.c)

COMMON_OBJS = $(COMMON_BASIC_OBJS) $(COMMON_SW_OBJS)

# Transition objects are separated out: in time these should be broken up
# into multiple files, and they could take a lot of space
TRANS_OBJS += $(if $(CONFIG_DMD), common/dmdtrans.o)
TRANS_OBJS += $(if $(CONFIG_DMD), common/dmd_shadow.o)

# Effect objects contain common display and lamp effects, and are
# separated out for the same reason.
EFFECT_OBJS += $(if $(CONFIG_DMD), common/effect.o)
EFFECT_OBJS +=	common/flash.o
EFFECT_OBJS += $(if $(CONFIG_PLAYABLE), common/sound_effect.o)
